import "../../styles/globals.css";
import Footer from "@/components/footer/Footer";
import Navbar from "@/components/header/Navbar";
import dynamic from "next/dynamic";
const Providers = dynamic(() => import("@/Providers/Provider"));
import { Analytics } from "@vercel/analytics/react";
import { lateef, cairo, tajawal } from "@/lib/fonts";
import { Toaster } from "@/components/ui/toaster";

export const metadata = {
  title: "EazyCode",
  description: "Generated by create next app",
};

// export async function generateStaticParams() {
//   return i18n.locales.map(async (locale) => await { lang: locale });
// }

export async function generateStaticParams() {
  return [{ lang: "en" }, { lang: "ar" }];
}

export default function RootLayout({ children, params }) {
  return (
    <html
      lang={params.lang}
      dir={params.lang === "ar" ? "rtl" : "ltr"}
      style={{ colorScheme: "dark" }}
      className="dark"
    >
      <body
        className={`${cairo.variable} ${lateef.variable}  ${tajawal.variable}    h-[dvh] `}
      >
        <section
          id="childrenxx"
          // className="flex flex-col    justify-start items-start h-[calc(100vh_-_170px)] "
          // className="flex flex-col items-start justify-start h-screen "
          // className="flex flex-col items-start justify-start h-screen "
        >
          <Providers
            // attributes="class"
            attribute="class"
            defaultTheme="system"
            enableSystem
            disableTransitionOnChange
          >
            <div className="h-[calc(100dvh)]   grid grid-rows-[auto_minmax(0,1fr)] ">
              <div className="row-span-1">
                <Navbar lang={params.lang} />
              </div>
              <div> {children}</div>
              <div>
                <Footer lang={params.lang} />
              </div>
            </div>
          </Providers>
          <Toaster />
          <Analytics />
        </section>
      </body>
    </html>
  );
}
